<!DOCTYPE html>
<html lang="cs">
<head>
  <meta charset="UTF-8">
  <title>Kontrola dostupnosti serveru</title>
</head>
<body>
  <h1>Stav serveru 28.ip.gl.ply.gg</h1>
  <p id="status">Kontroluji...</p>

  <script>
    const status = document.getElementById('status');
    const img = new Image();
    const timeout = 5000; // 5 sekund

    let isTimeout = false;

    const timer = setTimeout(() => {
      isTimeout = true;
      status.textContent = '❌ Server je nedostupný (timeout)';
    }, timeout);

    img.onload = () => {
      if (!isTimeout) {
        clearTimeout(timer);
        status.textContent = '✅ Server je dostupný';
      }
    };

    img.onerror = () => {
      if (!isTimeout) {
        clearTimeout(timer);
        status.textContent = '❌ Server je nedostupný';
      }
    };

    // Pokus o načtení obrázku – pokud server odpoví, je považován za dostupný
    img.src = "http://28.ip.gl.ply.gg/favicon.ico?" + new Date().getTime();
  </script>
</body>
</html>
